$(document).ready(function(){const n=localStorage.getItem("token");if(!n){alert("You need to log in to view logbook entries.");window.location.href="landing.html";return}$.ajax({url:"https://localhost:5000/api/logbook",type:"GET",headers:{Authorization:"Bearer "+n},success:function(n){let t="";const i=n.content;i.forEach(function(n,i){const r=`logbookContent${i}`;t+=`
                    <div class="logbook-row">
                        <div class="logbook-header">
                            <span>${n.date} ${n.departureTime} - ${n.arrivalTime} ${n.pilotName} ${n.departure} -> ${n.arrival} </span>
                            <button class="toggle-content" data-target="#${r}">Tartalom</button>
                        </div>
                        <div id="${r}" class="logbook-content">
                            <p>Dátum: ${n.date}</p>
                            <p>Indulás Hely: ${n.departure}</p>
                            <p>Indulás Idő: ${n.departureTime}</p>
                            <p>Érkezés Hely: ${n.arrival}</p>
                            <p>Érkezés Idő: ${n.arrivalTime}</p>
                            <p>Repülőeszköz: ${n.airplaneType}</p>
                            <p>Azonosító: ${n.callSign}</p>
                            <p>Teljes Repült idő: ${n.totalFlightTime}</p>
                            <p>Pilóta neve PIC: ${n.pilotName}</p>
                            <p>VFR felszállás: ${n.vfrTakeoff}</p>
                            <p>VFR leszállás: ${n.vfrLanding}</p>
                            <p>Éjjel felszállás: ${n.nightTakeoff}</p>
                            <p>Éjjel leszállás: ${n.nightLanding}</p>
                            <p>Parancsnok PIC idő: ${n.picTime}</p>
                            <p>Kétkormányos DUAL idő: ${n.dualTime}</p>
                            <p>Oktató idő: ${n.instructorTime}</p>
                            <p>Megjegyzés: ${n.description}</p>
                        </div>
                    </div>
                `});$("#logbookContainer").html(t);$(".toggle-content").click(function(){const n=$(this).data("target");$(n).toggleClass("active")})},error:function(n){alert("Error fetching logbook entries: "+n.responseText)}})});