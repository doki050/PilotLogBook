$(document).ready(function(){const n=localStorage.getItem("token");if(!n){alert("You need to log in to access this page.");window.location.href="landing.html";return}$("#logbookForm").submit(function(t){t.preventDefault();const i={date:$("#date").val(),departure:$("#departure").val(),departureTime:$("#departureTime").val(),arrival:$("#arrival").val(),arrivalTime:$("#arrivalTime").val(),airplaneType:$("#airplaneType").val(),callSign:$("#callSign").val(),totalFlightTime:$("#totalFlightTime").val(),pilotName:$("#pilotName").val(),vfrTakeoff:parseInt($("#vfrTakeoff").val()),vfrLanding:parseInt($("#vfrLanding").val()),nightTakeoff:parseInt($("#nightTakeoff").val()||0),nightLanding:parseInt($("#nightLanding").val()||0),picTime:$("#picTime").val(),dualTime:$("#dualTime").val()||"00:00",instructorTime:$("#instructorTime").val()||"00:00",description:$("#description").val()};$.ajax({url:"https://localhost:5000/api/logbook",type:"POST",contentType:"application/json",headers:{Authorization:"Bearer "+n},data:JSON.stringify(i),success:function(){alert("LogBook entry created successfully!");window.location.href="list.html"},error:function(n){alert("Error creating logbook entry: "+n.responseText)}})})});